
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <h2>List of depots</h2>        
    <table class="table-bordered text-center">
        @foreach (var d in ViewBag.Depots)
        {
            <tr>
                <td><h3>   @d.DepotName</h3></td>
                <td colspan="2"><h3>   @d.Country.CountryName</h3></td>
            
            @if (Model[d.DepotId].Count > 0)
            {
                <tr>
                    <td><p>Drug type name</p></td>
                    <td><p>Drug unit id</p></td>
                    <td><p>Pick number</p></td>
                </tr>
                foreach (var du in Model[d.DepotId])
                {
                    <tr>
                        <td><p>   @du.DrugType.DrugTypeName</p></td>
                        <td><p>   @du.DrugUnitId</p></td>
                        <td><p>   @du.PickNumber</p></td>
                    </tr>
                }
            }
            else
            {
                <tr><td colspan="3"><p>The list of drug units is empty</p></td></tr>
            }
            </tr>
        }
    </table>    
</div>